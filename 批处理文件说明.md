# 批处理文件使用说明

本项目包含多个 `.bat` 批处理文件，用于简化日常操作。以下是各个文件的用途和使用方法。

## 📦 批处理文件列表

### 1. `首次安装.bat` - 初始化安装脚本

**用途**：第一次使用项目时运行，自动完成所有初始化设置。

**功能**：
- ✅ 检查 Python 是否安装
- ✅ 检查和升级 pip
- ✅ 安装所有项目依赖
- ✅ 创建必要的目录
- ✅ 显示下一步操作指引

**使用时机**：
- 第一次克隆项目后
- 需要重新安装依赖时

**运行方式**：
```
双击运行 "首次安装.bat"
```

---

### 2. `启动.bat` - 快速启动脚本（推荐日常使用）

**用途**：日常开发和使用时，快速启动应用。

**功能**：
- ✅ 检查 Python 环境
- ✅ 检查依赖是否安装（缺少则自动安装）
- ✅ 检查必要目录
- ✅ 启动 Flask 应用
- ✅ 自动打开浏览器访问 http://localhost:5000

**使用时机**：
- 日常启动应用（最常用）
- 本地测试功能

**运行方式**：
```
双击运行 "启动.bat"
```

**提示**：
- 启动后会自动打开浏览器
- 按 `Ctrl+C` 可停止服务器
- 关闭命令窗口也会停止服务器

---

### 3. `更新并启动.bat` - 更新代码后启动

**用途**：从 GitHub 拉取最新代码，更新依赖，然后启动应用。

**功能**：
- ✅ 检查 Git 环境
- ✅ 从 GitHub 拉取最新代码
- ✅ 检查 Python 环境
- ✅ 更新所有依赖到最新版本
- ✅ 启动应用

**使用时机**：
- GitHub 有新的更新时
- 需要更新依赖版本时
- 团队协作时同步最新代码

**运行方式**：
```
双击运行 "更新并启动.bat"
```

**注意**：
- 需要先安装 Git
- 确保本地更改已提交或备份

---

### 4. `推送到GitHub.bat` - 提交并推送代码

**用途**：快速提交本地更改并推送到 GitHub。

**功能**：
- ✅ 检查 Git 环境
- ✅ 显示文件状态
- ✅ 添加所有更改到暂存区
- ✅ 提示输入提交信息
- ✅ 提交并推送到 GitHub

**使用时机**：
- 完成功能开发后
- 修复 bug 后
- 需要部署到 Zeabur 时（推送后自动部署）

**运行方式**：
```
双击运行 "推送到GitHub.bat"
输入提交信息（或按回车使用默认信息）
```

**提示**：
- 推送成功后，Zeabur 会自动检测并重新部署
- 建议写清晰的提交信息

---

## 🔄 典型使用流程

### 场景 1：第一次使用项目

```
1. 克隆项目到本地
2. 运行 "首次安装.bat"
3. 运行 "启动.bat"
4. 在浏览器中设置 Bot Token
```

### 场景 2：日常开发

```
1. 修改代码
2. 运行 "启动.bat" 测试
3. 测试通过后，运行 "推送到GitHub.bat" 提交
```

### 场景 3：同步最新代码

```
1. 运行 "更新并启动.bat"
2. 自动拉取最新代码并启动
```

### 场景 4：只推送代码（不启动）

```
1. 运行 "推送到GitHub.bat"
2. 输入提交信息
3. 完成推送
```

---

## ⚙️ 系统要求

### 必需
- **Python 3.7+**：所有脚本都需要
- **pip**：Python 包管理器（通常随 Python 一起安装）

### 可选
- **Git**：只有 "更新并启动.bat" 和 "推送到GitHub.bat" 需要
  - 下载地址：https://git-scm.com/downloads
  - 安装后需要配置用户信息

---

## 🔧 配置 Git（首次使用）

如果要使用 Git 相关的批处理文件，需要先配置：

```bash
# 配置用户名
git config --global user.name "你的名字"

# 配置邮箱
git config --global user.email "你的邮箱"

# 配置 GitHub 凭据（首次推送时会提示）
```

---

## 🐛 常见问题

### Q1: 运行批处理文件时闪退？
**A**: 右键点击批处理文件，选择"以管理员身份运行"，或在命令提示符中运行查看错误信息。

### Q2: 提示 "Python 未找到"？
**A**: 
1. 访问 https://www.python.org/downloads/ 下载安装 Python
2. 安装时务必勾选 "Add Python to PATH"
3. 安装完成后重启命令提示符

### Q3: 依赖安装很慢或失败？
**A**: 使用国内镜像源加速：
```bash
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

### Q4: Git 推送失败？
**A**: 检查：
1. 是否配置了 Git 用户信息
2. 是否有推送权限
3. 网络连接是否正常
4. GitHub Token 是否有效

### Q5: 启动后浏览器无法访问？
**A**: 
1. 检查端口 5000 是否被占用
2. 查看命令窗口是否有错误信息
3. 确认防火墙没有阻止

---

## 📝 自定义批处理文件

所有批处理文件都是纯文本，可以用记事本打开编辑：

1. 右键点击 `.bat` 文件
2. 选择"编辑"
3. 修改后保存

**建议**：
- 修改前先备份
- 注意保持编码为 UTF-8
- 了解基本的批处理命令

---

## 🎯 快捷方式

为了更方便使用，可以：

1. **创建桌面快捷方式**：
   - 右键点击 `启动.bat`
   - 选择"发送到" → "桌面快捷方式"

2. **固定到任务栏**：
   - 创建快捷方式
   - 右键点击快捷方式 → "固定到任务栏"

3. **添加到开始菜单**：
   - 右键点击批处理文件
   - 选择"固定到开始菜单"

---

## 📚 相关文档

- `README.md` - 项目总体说明
- `使用说明.md` - 应用功能使用指南
- `测试指南.md` - 功能测试步骤
- `CHANGELOG.md` - 版本更新日志

---

## 💡 提示

- **推荐**：日常使用只需要 `启动.bat`
- **定期**：使用 `更新并启动.bat` 同步最新代码
- **开发**：修改后使用 `推送到GitHub.bat` 提交
- **首次**：只需运行一次 `首次安装.bat`
